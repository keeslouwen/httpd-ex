<!DOCTYPE html>
<html>
  <head>
    <title>Introduction to Containers, Docker and Vancis Application Fabric </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="workshop.css">
  </head>
  <body>
    <!--
    <div style="position: absolute; left: 20%; right: 20%; top: 30%;">
      <h1 style="font-size: 3em;">Loading ...</h1>
      The slides should show up here. If they don't, it might be
      because you are accessing this file directly from your filesystem.
      It needs to be served from a web server. You can try this:
      <pre>
        docker-compose up -d
        open http://localhost:8888/workshop.html # on MacOS
        xdg-open http://localhost:8888/workshop.html # on Linux
      </pre>
      Once the slides are loaded, this notice disappears when you
      go full screen (e.g. by hitting "f").
    </div>
    -->
    <textarea id="source">class: title, self-paced

Introduction<br/>to Containers, Docker and<br/>Vancis Application Fabric<br/>

.nav[*Self-paced version*]

.debug[
```
 M slides/index.html
 M slides/intro-fullday.yml.html
 M slides/intro-selfpaced.yml.html
?? slides/intro-vabric8.yml
?? slides/intro-vabric8.yml.html
?? slides/vabric8/

```

These slides have been built from commit: b9d1154


[vabric8/title.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/title.md)]
---

class: title, in-person

Introduction<br/>to Containers, Docker and<br/>Vancis Application Fabric<br/><br/></br>

.footnote[
**Be kind to the WiFi!**<br/>
<!-- *Use the 5G network.* -->
*Don't use your hotspot.*<br/>
*Don't stream videos or download big files during the workshop.*<br/>
*Thank you!*

**Slides: http://.../**
]

.debug[[vabric8/title.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/title.md)]
---
## A brief introduction

- These materials originate from [Jérôme Petazzoni](https://twitter.com/jpetazzo) and [multiple contributors](https://github.com/jpetazzo/container.training/graphs/contributors)

.debug[[vabric8/intro.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/intro.md)]
---

class: self-paced

## Agenda

- item 1:
  <br/>item desc

.debug[[vabric8/intro.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/intro.md)]
---

name: toc-chapter-1

## Chapter 1

- [Docker 30,000ft overview](#toc-docker-ft-overview)

- [History of containers ... and Docker](#toc-history-of-containers--and-docker)

- [Orchestration, an overview](#toc-orchestration-an-overview)

.debug[(auto-generated TOC)]



.debug[[common/toc.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/common/toc.md)]
---

class: pic

.interstitial[![Image separating from the next chapter](https://gallant-turing-d0d520.netlify.com/containers/Container-Ship-Freighter-Navigation-Elbe-Romance-1782991.jpg)]

---

name: toc-docker-ft-overview
class: title

Docker 30,000ft overview

.nav[
[Previous section](#toc-)
|
[Back to table of contents](#toc-chapter-1)
|
[Next section](#toc-history-of-containers--and-docker)
]

.debug[(automatically generated title slide)]

---
# Docker 30,000ft overview

In this intro, we will talk about:

* Why containers (non-technical elevator pitch)

* How Docker helps us to build, ship, and run

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

## OK... Why the buzz around containers?

* The software industry has changed

* Before:
  * monolithic applications
  * long development cycles
  * single environment
  * slowly scaling up

* Now:
  * decoupled services
  * fast, iterative improvements
  * multiple environments
  * quickly scaling out

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

## Deployment becomes very complex

* Many different stacks:
  * languages
  * frameworks
  * databases

* Many different targets:
  * individual development environments
  * pre-production, QA, staging...
  * production: on prem, cloud, hybrid

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## The deployment problem

![problem](images/shipping-software-problem.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## The matrix from hell

![matrix](images/shipping-matrix-from-hell.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## The parallel with the shipping industry

![history](images/shipping-industry-problem.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## Intermodal shipping containers

![shipping](images/shipping-industry-solution.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## A new shipping ecosystem

![shipeco](images/shipping-indsutry-results.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## A shipping container system for applications

![shipapp](images/shipping-software-solution.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

## Eliminate the matrix from hell

![elimatrix](images/shipping-matrix-solved.png)

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

## Results

* [Dev-to-prod reduced from 9 months to 15 minutes (ING)](
  https://www.docker.com/sites/default/files/CS_ING_01.25.2015_1.pdf)

* [Continuous integration job time reduced by more than 60% (BBC)](
  https://www.docker.com/sites/default/files/CS_BBCNews_01.25.2015_1.pdf)

* [Deploy 100 times a day instead of once a week (GILT)](
  https://www.docker.com/sites/default/files/CS_Gilt%20Groupe_03.18.2015_0.pdf)

* [70% infrastructure consolidation (MetLife)](
  https://www.docker.com/customers/metlife-transforms-customer-experience-legacy-and-microservices-mashup)

* [60% infrastructure consolidation (Intesa Sanpaolo)](
  https://blog.docker.com/2017/11/intesa-sanpaolo-builds-resilient-foundation-banking-docker-enterprise-edition/)

* [14x application density; 60% of legacy datacenter migrated in 4 months (GE Appliances)](
  https://www.docker.com/customers/ge-uses-docker-enable-self-service-their-developers)

* etc.

.debug[[vabric8/Docker_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Docker_Overview.md)]
---

class: pic

.interstitial[![Image separating from the next chapter](https://gallant-turing-d0d520.netlify.com/containers/ShippingContainerSFBay.jpg)]

---

name: toc-history-of-containers--and-docker
class: title

History of containers ... and Docker

.nav[
[Previous section](#toc-docker-ft-overview)
|
[Back to table of contents](#toc-chapter-1)
|
[Next section](#toc-orchestration-an-overview)
]

.debug[(automatically generated title slide)]

---
# History of containers ... and Docker

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## First experimentations

* [IBM VM/370 (1972)](https://en.wikipedia.org/wiki/VM_%28operating_system%29)

* [Linux VServers (2001)](http://www.solucorp.qc.ca/changes.hc?projet=vserver)

* [Solaris Containers (2004)](https://en.wikipedia.org/wiki/Solaris_Containers)

* [FreeBSD jails (1999)](https://www.freebsd.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+4.0-RELEASE)

Containers have been around for a *very long time* indeed.

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

class: pic

## The VPS age (until 2007-2008)

![lightcont](images/containers-as-lightweight-vms.png)

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Containers = cheaper than VMs

* Users: hosting providers.

* Highly specialized audience with strong ops culture.

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

class: pic

## The PAAS period (2008-2013)

![heroku 2007](images/heroku-first-homepage.png)

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Containers = easier than VMs

* I can't speak for Heroku, but containers were (one of) dotCloud's secret weapon

* dotCloud was operating a PaaS, using a custom container engine.

* This engine was based on OpenVZ (and later, LXC) and AUFS.

* It started (circa 2008) as a single Python script.

* By 2012, the engine had multiple (~10) Python components.
  <br/>(and ~100 other micro-services!)

* End of 2012, dotCloud refactors this container engine.

* The codename for this project is "Docker."

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## First public release of Docker

* March 2013, PyCon, Santa Clara:
  <br/>"Docker" is shown to a public audience for the first time.

* It is released with an open source license.

* Very positive reactions and feedback!

* The dotCloud team progressively shifts to Docker development.

* The same year, dotCloud changes name to Docker.

* In 2014, the PaaS activity is sold.

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Docker early days (2013-2014)

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## First users of Docker

* PAAS builders (Flynn, Dokku, Tsuru, Deis...)

* PAAS users (those big enough to justify building their own)

* CI platforms

* developers, developers, developers, developers

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Positive feedback loop

* In 2013, the technology under containers (cgroups, namespaces, copy-on-write storage...)
  had many blind spots.

* The growing popularity of Docker and containers exposed many bugs.

* As a result, those bugs were fixed, resulting in better stability for containers.

* Any decent hosting/cloud provider can run containers today.

* Containers become a great tool to deploy/move workloads to/from on-prem/cloud.

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Maturity (2015-2016)

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Docker becomes an industry standard

* Docker reaches the symbolic 1.0 milestone.

* Existing systems like Mesos and Cloud Foundry add Docker support.

* Standardization around the OCI (Open Containers Initiative).

* Other container engines are developed.

* Creation of the CNCF (Cloud Native Computing Foundation).

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

## Docker becomes a platform

* The initial container engine is now known as "Docker Engine."

* Other tools are added:
  * Docker Compose (formerly "Fig")
  * Docker Machine
  * Docker Swarm
  * Kitematic
  * Docker Cloud (formerly "Tutum")
  * Docker Datacenter
  * etc.

* Docker Inc. launches commercial offers.

.debug[[intro/Docker_History.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/intro/Docker_History.md)]
---

class: pic

.interstitial[![Image separating from the next chapter](https://gallant-turing-d0d520.netlify.com/containers/aerial-view-of-containers.jpg)]

---

name: toc-orchestration-an-overview
class: title

Orchestration, an overview

.nav[
[Previous section](#toc-history-of-containers--and-docker)
|
[Back to table of contents](#toc-chapter-1)
|
[Next section](#toc-)
]

.debug[(automatically generated title slide)]

---
# Orchestration, an overview

In this chapter, we will:

* Explain what is orchestration and why we would need it.

* Present (from a high-level perspective) some orchestrators.

* Show one orchestrator (Openshift/Kubernetes) in action.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

class: pic

## What's orchestration?

![Joana Carneiro (orchestra conductor)](images/conductor.jpg)

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## What's orchestration?

According to Wikipedia:

*Orchestration describes the __automated__ arrangement,
coordination, and management of complex computer systems,
middleware, and services.*

--

*[...] orchestration is often discussed in the context of 
__service-oriented architecture__, __virtualization__, provisioning, 
Converged Infrastructure and __dynamic datacenter__ topics.*

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## What is scheduling?

According to Wikipedia (again):

*In computing, scheduling is the method by which threads, 
processes or data flows are given access to system resources.*

The scheduler is concerned mainly with:

- throughput (total amount or work done per time unit);
- turnaround time (between submission and completion);
- response time (between submission and start);
- waiting time (between job readiness and execution);
- fairness (appropriate times according to priorities).

In practice, these goals often conflict.

**"Scheduling" = decide which resources to use.**

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

* Scheduling with multiple resources (dimensions) is hard.

* Don't expect to solve the problem with a Tiny Shell Script.

* There are literally tons of research papers written on this.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## But our orchestrator also needs to manage ...

* Network connectivity (or filtering) between containers.

* Load balancing (external and internal).

* Failure recovery (if a node or a whole datacenter fails).

* Rolling out new versions of our applications.

  (Canary deployments, blue/green deployments...)


.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Some orchestrators

We are going to present briefly a few orchestrators.

There is no "absolute best" orchestrator.

It depends on:

- your applications,

- your requirements,

- your pre-existing skills...

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Nomad

- Open Source project by Hashicorp.

- Arbitrary scheduler (not just for containers).

- Great if you want to schedule mixed workloads.

  (VMs, containers, processes...)

- Less integration with the rest of the container ecosystem.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Mesos

- Open Source project in the Apache Foundation.

- Arbitrary scheduler (not just for containers).

- Two-level scheduler.

- Top-level scheduler acts as a resource broker.

- Second-level schedulers (aka "frameworks") obtain resources from top-level.

- Frameworks implement various strategies.

  (Marathon = long running processes; Chronos = run at intervals; ...)

- Commercial offering through DC/OS my Mesosphere.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Rancher

- Rancher 1 offered a simple interface for Docker hosts.

- Rancher 2 is a complete management platform for Docker and Kubernetes.

- Technically not an orchestrator, but it's a popular option.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Swarm

- Tightly integrated with the Docker Engine.

- Extremely simple to deploy and setup, even in multi-manager (HA) mode.

- Secure by default.

- Strongly opinionated:

  - smaller set of features,

  - easier to operate.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Kubernetes

- Open Source project initiated by Google.

- Contributions from many other actors.

- *De facto* standard for container orchestration.

- Many deployment options; some of them very complex.

- Reputation: steep learning curve.

- Reality:

  - true, if we try to understand *everything*;

  - false, if we focus on what matters.

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---

## Openshift which is based upon Kubernetes / Docker in action

.center[![Demo stamp](images/demo.jpg)]

.debug[[vabric8/Orchestration_Overview.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/vabric8/Orchestration_Overview.md)]
---
class: title, self-paced

Thank you!

.debug[[common/thankyou.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/common/thankyou.md)]
---

class: title, in-person

That's all, folks! <br/> Questions?

![end](images/end.jpg)

.debug[[common/thankyou.md](https://github.com/keeslouwen/httpd-ex.git/tree/master/slides/common/thankyou.md)]</textarea>
    <script src="remark.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create({
        ratio: '16:9',
        highlightSpans: true,
        excludedClasses: ["in-person"]
      });
    </script>
    
    <!-- 
    These two scripts will be available only when loading the
    content using the pub/sub server. Otherwise, they'll just
    404 and that's OK.
    -->
    <script src="/socket.io/socket.io.js">
    </script>
    <script src="/remote.js">
    </script>

  </body>
</html>
